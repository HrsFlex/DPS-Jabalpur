
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Bus Route Optimization</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { 
            margin: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
        }
        .container { 
            display: flex; 
            height: 100vh;
        }
        #map { 
            height: 100vh; 
            flex: 1;
        }
        .sidebar {
            width: 350px;
            background: white;
            padding: 20px;
            overflow-y: auto;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        .stats-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .stats-card h3 {
            margin: 0 0 10px 0;
            color: #495057;
            font-size: 16px;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        .route-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .route-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            transform: translateY(-1px);
        }
        .route-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .route-color {
            width: 20px;
            height: 4px;
            border-radius: 2px;
            margin-right: 10px;
        }
        .route-title {
            font-weight: bold;
            color: #495057;
        }
        .route-stats {
            font-size: 12px;
            color: #6c757d;
        }
        .legend {
            background: white;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .legend h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .efficiency-bar {
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }
        .efficiency-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #ffc107, #dc3545);
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="map"></div>
        <div class="sidebar">
            <h2 style="margin-top: 0; color: #495057;">üöå Route Analytics</h2>
            
            <div class="stats-card">
                <h3>üìä Overall Statistics</h3>
                <div class="stat-item">
                    <span>Total Distance:</span>
                    <strong id="total-distance">0 km</strong>
                </div>
                <div class="stat-item">
                    <span>Buses Used:</span>
                    <strong id="buses-used">0</strong>
                </div>
                <div class="stat-item">
                    <span>Students Assigned:</span>
                    <strong id="students-assigned">0</strong>
                </div>
                <div class="stat-item">
                    <span>Avg Utilization:</span>
                    <strong id="avg-utilization">0%</strong>
                </div>
            </div>
            
            <div class="stats-card">
                <h3>üõ£Ô∏è Route Details</h3>
                <div id="route-list"></div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Data
        const school = {
            name: "School",
            coords: [23.093356737950902, 80.0128349110219]
        };
        const stops = [{"name": "DATT TOWNSHIP [TILHARI]", "coords": [23.11506842661064, 79.97364137096082], "students": 61, "cluster": 0, "assignments": [{"bus": "Bus-17", "students": 30}, {"bus": "Bus-18", "students": 4}, {"bus": "Bus-19", "students": 27}], "assigned_students": 61, "color": "#1f77b4"}, {"name": "UDAYPURA [BIJADANDI]", "coords": [23.04671873520261, 80.0838603289695], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "SADAR AREA", "coords": [23.154911586864916, 79.95247164511579], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "CHAITANYA CITY  [TILHERI]", "coords": [23.119840810599957, 79.97183318920116], "students": 20, "cluster": 0, "assignments": [{"bus": "Bus-15", "students": 4}, {"bus": "Bus-16", "students": 16}], "assigned_students": 20, "color": "#1f77b4"}, {"name": "SMART TOWN SILUVA", "coords": [23.079005819106527, 79.98769490782207], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "MODEL TOWN [BILHERI]", "coords": [23.130331088505866, 79.96468674500338], "students": 11, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 11}], "assigned_students": 11, "color": "#1f77b4"}, {"name": "MAA NARMADE CITY HOMES [KAJARWARA]", "coords": [23.128582650203345, 79.97510932834523], "students": 38, "cluster": 0, "assignments": [{"bus": "Bus-10", "students": 12}, {"bus": "Bus-15", "students": 26}], "assigned_students": 38, "color": "#1f77b4"}, {"name": "KISANI MOHALLA BARELA", "coords": [23.09562131997112, 80.04773396800162], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 5}, {"bus": "Bus-21", "students": 4}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "ST.JOSEPH TFRI", "coords": [23.092374499520837, 79.98563997760517], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "NAVAL UTKARSH  [TILHERI]", "coords": [23.122249958066227, 79.97056388598813], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "ANANTARA [TILHERI]", "coords": [23.123646194799328, 79.96941237714319], "students": 18, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 18}], "assigned_students": 18, "color": "#1f77b4"}, {"name": "RYAN INTERNATIONAL SCH [SHANTI NAGAR]", "coords": [23.191449414854848, 79.92975010556374], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "SOUTH CIVIL LINES [DPS CITY OFF]", "coords": [23.154441779612455, 79.95192861705203], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "MAIN ROAD BILHARI", "coords": [23.186834098544338, 79.9265318060182], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "KRISHNA HOMES  [BILHERI]", "coords": [23.13328722255354, 79.96699730565662], "students": 11, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 11}], "assigned_students": 11, "color": "#1f77b4"}, {"name": "RAJUL PARADISE  [TILHERI]", "coords": [23.12531171902943, 79.96873176349422], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "SHOBHAPUR", "coords": [23.18225342696958, 79.9725331649599], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "RAJUL EXOTICA  [BILHERI]", "coords": [23.12844425746609, 79.97322637205349], "students": 16, "cluster": 0, "assignments": [{"bus": "Bus-12", "students": 15}, {"bus": "Bus-15", "students": 1}], "assigned_students": 16, "color": "#1f77b4"}, {"name": "RAJUL PHASE II  [BILHERI]", "coords": [23.129252818370205, 79.9701793892678], "students": 32, "cluster": 0, "assignments": [{"bus": "Bus-11", "students": 25}, {"bus": "Bus-12", "students": 7}], "assigned_students": 32, "color": "#1f77b4"}, {"name": "KANTI VILLAS [KAJARWARA]", "coords": [23.128268808098042, 79.97640003615263], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-10", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "MANGLESHWARI  [BILHERI]", "coords": [23.13106618522793, 79.97149427641607], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-09", "students": 4}, {"bus": "Bus-12", "students": 2}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "CHAGGAR FARM  [TILHERI]", "coords": [23.12437896108687, 79.96902007375587], "students": 23, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 18}, {"bus": "Bus-14", "students": 5}], "assigned_students": 23, "color": "#1f77b4"}, {"name": "XIDAS COLLEGE [TILHERI]", "coords": [23.11393531506767, 79.97535462435053], "students": 14, "cluster": 0, "assignments": [{"bus": "Bus-19", "students": 14}], "assigned_students": 14, "color": "#1f77b4"}, {"name": "SHARDA MANDIR [BARELA]", "coords": [23.08932114398881, 80.06959392687172], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "LEKHA NAGAR", "coords": [23.15182899639258, 79.96565455864993], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-09", "students": 9}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "GWARIGHAT", "coords": [23.114228271840545, 79.92285537175148], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 10}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "KUNJ MEDICOSE BILHARI", "coords": [23.132854309859823, 79.96463834403374], "students": 12, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 12}], "assigned_students": 12, "color": "#1f77b4"}, {"name": "RAJUL TOWNSHIP [TILHERI]", "coords": [23.11893352599675, 79.97551851495885], "students": 17, "cluster": 0, "assignments": [{"bus": "Bus-16", "students": 3}, {"bus": "Bus-18", "students": 14}], "assigned_students": 17, "color": "#1f77b4"}, {"name": "RAJUL PHASE III  [BILHERI]", "coords": [23.131458373920047, 79.9718497836627], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-09", "students": 9}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "TAHSILI CHOWK", "coords": [23.185600438490916, 79.91069186819605], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "GORAIYA GHAT [GAUR]", "coords": [23.10536144194335, 79.97782484416425], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "BUS STAND [BARELA]", "coords": [23.100337110144302, 80.05631559292289], "students": 14, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 14}], "assigned_students": 14, "color": "#1f77b4"}, {"name": "RAJUL CITY AASHIANA  [BILHERI]", "coords": [23.13111603004965, 79.96731736161077], "students": 14, "cluster": 0, "assignments": [{"bus": "Bus-11", "students": 14}], "assigned_students": 14, "color": "#1f77b4"}, {"name": "RAJUL PHASE I  [TILHERI]", "coords": [23.131466267550255, 79.97073450753732], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-12", "students": 9}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "DREAM CITY", "coords": [23.208576552104496, 79.93196859902471], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "BIJA DANDI", "coords": [23.006352844007324, 80.13233204475057], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 9}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "KATARIYA THEME PARK [TILHARI]", "coords": [23.120770760969933, 79.97133799276142], "students": 24, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 14}, {"bus": "Bus-15", "students": 10}], "assigned_students": 24, "color": "#1f77b4"}, {"name": "GORA BAZAR", "coords": [23.146450564222516, 79.95814539850521], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "PINK CITY [BILHARI]", "coords": [23.129156437300594, 79.96502178000252], "students": 12, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 12}], "assigned_students": 12, "color": "#1f77b4"}, {"name": "2TTR GORA BAZAR", "coords": [23.138154087093678, 79.95901377354578], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "SHUBHAM RESIDENCY, TILHARI", "coords": [23.117004507794384, 79.9735680764254], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-17", "students": 10}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "VIJAN MAHAL [TILHARI]", "coords": [23.124692533738177, 79.9686864487665], "students": 9, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 9}], "assigned_students": 9, "color": "#1f77b4"}, {"name": "TFRI", "coords": [23.09950738189036, 79.99005783672153], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "HOSTEL BARELA", "coords": [23.097124642118136, 80.04955457877452], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "CMM", "coords": [23.156740573450172, 79.9851093433569], "students": 16, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}, {"bus": "Bus-10", "students": 15}], "assigned_students": 16, "color": "#1f77b4"}, {"name": "PETROL PUMP [BILHARI]", "coords": [23.1295957301223, 79.96602061451216], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "SHIVPURI TEMAR BHITA", "coords": [23.147035842180383, 79.99868629804486], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-10", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "ALLAHABAD BRANCH CHOWK [CIVIL LINES]", "coords": [23.16523942006174, 79.95540757543658], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "HANUMAN MANDIR [BILHARI]", "coords": [23.133236883071035, 79.96417925504016], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "B K EMPIRE [BILHERI]", "coords": [23.129164048705007, 79.97039111490098], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-12", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "DATT TOWNSHIP [BILHARI]", "coords": [23.11543733449382, 79.97519758748908], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-18", "students": 10}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "IIIT( NEAR DUMNA)", "coords": [23.178241257138133, 80.01854015381966], "students": 8, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 8}], "assigned_students": 8, "color": "#1f77b4"}, {"name": "RAJUL VIHAR  [TILHERI]", "coords": [23.123883124245687, 79.96924638693163], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "RAJUL CITY STOP 1  [BILHERI]", "coords": [23.11918148867372, 79.97702008206095], "students": 16, "cluster": 0, "assignments": [{"bus": "Bus-18", "students": 16}], "assigned_students": 16, "color": "#1f77b4"}, {"name": "RAJUL PARK VIEW [TILHARI]", "coords": [23.119318594252608, 79.97123388107381], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-16", "students": 10}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "GOPAL HOTEL [LAL MATI]", "coords": [23.180038281749393, 79.95914022827505], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "BAJRANG NAGAR [VFJ]", "coords": [23.20852845844815, 79.99418566860275], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "KATANGA AREA", "coords": [23.14598807735535, 79.9357829959855], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 4}, {"bus": "Bus-06", "students": 1}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "NEAR K.V.  VFJ", "coords": [23.203272293233894, 79.97812623133443], "students": 8, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 8}], "assigned_students": 8, "color": "#1f77b4"}, {"name": "VIJAY NAGAR", "coords": [23.18508501963234, 79.90733178255053], "students": 15, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 15}], "assigned_students": 15, "color": "#1f77b4"}, {"name": "DHOBHI GHAT", "coords": [23.144992270068204, 79.97155329334242], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-09", "students": 10}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "SUBHASH COLONY (PF_1)", "coords": [23.17657142452922, 79.96756084682326], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "ADHIKARI ENCLAVE [CIVIL LINES]", "coords": [23.1562364844232, 79.94017770615982], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "TEMAR BHITHA", "coords": [23.14686951924597, 79.99843014771179], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-10", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "SIGMA KANHA (MANDLA ROAD)", "coords": [23.111903141828552, 80.0043466449494], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "ANAND NAGAR [ADHARTAL]", "coords": [23.194644314568055, 79.94105932672417], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "SALIWADA", "coords": [23.11556994445934, 79.99478995002738], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "LORDGANJ THANA", "coords": [23.173958508676918, 79.93163400424832], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 2}, {"bus": "Bus-05", "students": 2}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "VIJAN MAHAL", "coords": [23.125474932937912, 79.96828522077357], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "DEVARI SHARDA MANDIR [BARELA]", "coords": [23.0880022149519, 80.0740087313663], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "KALA MANDIR [VFJ]", "coords": [23.20963584185678, 79.99314248850177], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "SHEETLA MAI [GHAMAPUR]", "coords": [23.160291050337474, 79.94589064208955], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "SAI BABA MANDIR (CIVIL LINE)", "coords": [23.150420643590756, 79.94543613351374], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "BURN COMPANY [RAILWAY COLONY]", "coords": [23.17162430748628, 79.95865994929906], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "MOHINI HOMES [BILHERI]", "coords": [23.13268780655783, 79.96383495774498], "students": 10, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 8}, {"bus": "Bus-08", "students": 2}], "assigned_students": 10, "color": "#1f77b4"}, {"name": "DOLPHIN HOTEL  [TILHERI]", "coords": [23.122735155091533, 79.97000977287576], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "CIVIL LINE THANA", "coords": [23.16398997343518, 79.96007941496099], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "BARELA MELA GROUND", "coords": [23.1000751434807, 80.04143583484864], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "GOPALAPURAM BILHARI", "coords": [23.136795503825976, 79.95934423629106], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "ANUP VIHAR [GAUR]", "coords": [23.125118387520413, 79.9686938156215], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "PRATHAM RESIDENCY [BILHERI]", "coords": [23.135247169886497, 79.96499121424984], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "BEOHAR BAGH [PANDEY HOSP]", "coords": [23.17316067421629, 79.94731474539458], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "GAUR TIRAHA", "coords": [23.106368719270197, 79.98772771752677], "students": 15, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 15}], "assigned_students": 15, "color": "#1f77b4"}, {"name": "JALARAM BAPU NAGAR", "coords": [23.124902440555612, 79.96863873376775], "students": 8, "cluster": 0, "assignments": [{"bus": "Bus-13", "students": 8}], "assigned_students": 8, "color": "#1f77b4"}, {"name": "KAJARWARA", "coords": [23.12991441707296, 79.98013271933183], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-10", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "RADDI CHOWKI", "coords": [23.196930387152726, 79.94609810715711], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "HOTEL JACKSON [CIVIL LINES]", "coords": [23.16465288457666, 79.9560814886331], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "RAJA BOOT [GORAKHPUR]", "coords": [23.154302564786736, 79.93375442236302], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "EKTA CHOWK [VIJAY NAGAR]", "coords": [23.185146778593616, 79.91020905983561], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "KOSAMGHAT", "coords": [23.106928290231842, 80.01595803556948], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "TATA JACK [SADAR]", "coords": [23.119737608288787, 79.92562336937077], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SANJEEVANI NAGAR", "coords": [23.165631643965995, 79.89951694570661], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "SANJAY NAGAR RANJHI", "coords": [23.187022856681363, 79.98029528183545], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "PRAGATI NAGAR [TILHARI]", "coords": [23.120075895698783, 79.97240136058757], "students": 11, "cluster": 0, "assignments": [{"bus": "Bus-16", "students": 11}], "assigned_students": 11, "color": "#1f77b4"}, {"name": "VITS COLLEGE [NEEMKHEDA]", "coords": [23.103104571168306, 79.98715122513288], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SUHAGI", "coords": [23.10432054431489, 79.98740863267449], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "KATANGI BYPASS", "coords": [23.181461289034104, 80.00623773004442], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "VIKRAM BATRA [SADAR]", "coords": [23.151894702342275, 79.93648676687721], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "STAR CITY [KARMETA]", "coords": [23.218017776574044, 79.89222893590794], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "NEW RAM NAGAR [ADHARTAL]", "coords": [23.207477639280203, 79.93472940923132], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "LALMATI", "coords": [23.17744651041984, 79.94614470618043], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "GHANA [KHAMARIA]", "coords": [23.19452308222257, 79.9933749799813], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "AAKARSH ENCLAVE [TILHARI]", "coords": [23.112664944100743, 79.97686587899172], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-19", "students": 1}, {"bus": "Bus-20", "students": 1}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "SANSIKAR MEDIA RANJHI", "coords": [23.20319036783051, 80.00142406010181], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "MADHUBAN COLONY  [TILHERI]", "coords": [23.129278492013874, 79.96930748604778], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-11", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "NAVYUG COLLEGE SOUTH CIVIL LINES", "coords": [23.162548310276833, 79.96425409555513], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}, {"bus": "Bus-09", "students": 1}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "NEAR  MAZAR BARELA", "coords": [23.131899859927863, 79.9642808958001], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "POLICE LINE [INDRA MARKET]", "coords": [23.167258126424663, 79.9546482742753], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "KALI MANDIR GOHALPUR", "coords": [23.184594796459276, 79.93235650480348], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "KANCHGHAR", "coords": [23.17400066849778, 79.95819453843102], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "JAI PRAKASH NAGAR [ADHARTAL]", "coords": [23.199493933438436, 79.94779125804338], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "ANUPAM HOTEL [MADAN MAHAL]", "coords": [23.1595011590331, 79.92248861362029], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "MANEKSHAW COLONY ( KAJARWARA RD)", "coords": [23.14664862680056, 79.95756708029798], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "WRITE TOWN", "coords": [23.163419143439366, 79.9313649269809], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "PACHPEDI", "coords": [23.158785806977495, 79.96796982184956], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 1}, {"bus": "Bus-09", "students": 1}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "SAINIK SOCEITY [DUMNA]", "coords": [23.17372475181687, 80.01113565578872], "students": 4, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 4}], "assigned_students": 4, "color": "#1f77b4"}, {"name": "PRIYADERSHNI COLONY DUMNA ROAD", "coords": [23.17027094537853, 79.99815881101661], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "NEHRU RAILWAY COLONY", "coords": [23.15398785864381, 79.94040458223564], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "VATSALA PARADISE [SHIV NAGAR]", "coords": [23.188161271634463, 79.92410038759266], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "MAHARAJPUR", "coords": [23.225930132089648, 79.96215595703303], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "NAPIER TOWN", "coords": [23.16389805080893, 79.93139642769658], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "RAMPUR CHOWK", "coords": [23.14069780770084, 79.92597732777134], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "KACHNAR CITY", "coords": [23.196548020049264, 79.9087955266303], "students": 6, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 6}], "assigned_students": 6, "color": "#1f77b4"}, {"name": "HEAD POST OFFICE", "coords": [23.161811764391082, 79.95441470880174], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "GRC MOTIWADA", "coords": [23.151412394903993, 79.93674131592188], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "JAGDAMBA COLONY [SARVODAY NAGAR]", "coords": [23.1856825106758, 79.92197521874981], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "MADHAI [VFJ]", "coords": [23.21923410476295, 79.97387280287933], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "TAKSHASHILA COLLEGE [SHARDA CHOWK]", "coords": [23.153320774729337, 79.90822310759026], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "CHRIST CHURCH SCHOOL SALIWADA", "coords": [23.108161661763596, 80.0012181111393], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "RAZA CHOWK [ADHARTAL]", "coords": [23.19399645228403, 79.9398524169068], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "HATITAL COLONY [MADAN MAHAL]", "coords": [23.149176297149406, 79.9231263504578], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "STAR GREEN CITY", "coords": [23.078377876447576, 80.01181215119853], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-21", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "AMBEDKAR CHOWK", "coords": [23.170324608770713, 79.94703612795372], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "GREEN CITY [BILHARI]", "coords": [23.131401450318915, 79.97052408976279], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-12", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "SHIV NAGAR", "coords": [23.18910347519606, 79.92219324822497], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "GHAMAPUR", "coords": [23.176457037202816, 79.94625466898097], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "KACHPURA BRIDGE", "coords": [23.164375444565064, 79.90430486491502], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "CHOTI LINE [GORAKHPUR]", "coords": [23.154720438767708, 79.92783738209282], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "NANAK NAGAR [MANEGAON]", "coords": [23.21350726873368, 80.01655788403875], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "AMKHERA", "coords": [23.21301223597174, 79.93207969846821], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "BARELA POLICE STAION", "coords": [23.096289028836637, 80.05110274266316], "students": 5, "cluster": 0, "assignments": [{"bus": "Bus-03", "students": 5}], "assigned_students": 5, "color": "#1f77b4"}, {"name": "RAMPUR", "coords": [23.133731638844615, 79.91086515934909], "students": 2, "cluster": 0, "assignments": [{"bus": "Bus-06", "students": 2}], "assigned_students": 2, "color": "#1f77b4"}, {"name": "SARAFA", "coords": [23.17717230090233, 79.9323015720764], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "4TH BRIDGE", "coords": [23.15792644999127, 79.93837975677135], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "RDVV UNIVERSITY [DUMNA ROAD]", "coords": [23.159317601905553, 79.97669285632517], "students": 3, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 3}], "assigned_students": 3, "color": "#1f77b4"}, {"name": "RTO [CIVIL LINES]", "coords": [23.165554782898848, 79.96064789772927], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-02", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SHANKAR NAGAR", "coords": [23.205225609469302, 79.89773166918903], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "MERIDIAN BUNGALOW [PACHPEDI]", "coords": [23.160074944042183, 79.97199808461684], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "GHAMNDI CHOWK MALVIYA CHOWK", "coords": [23.17598764356703, 79.93305411891365], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-01", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "RUSSEL CHOWK", "coords": [23.16328550208074, 79.93686452095312], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SUKH SAGAR VALLEY [GWARIGHAT]", "coords": [23.11709048935665, 79.92457721572774], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-08", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "JABALPUR HOSPITAL AREA", "coords": [23.162466672612886, 79.93690413060737], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "RAM NAGAR [VFJ]", "coords": [23.200513844164647, 79.99375456783393], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "NAGAR NIGAM [RANJHI]", "coords": [23.197777125990086, 80.00366623147126], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "LABOUR CHOWK", "coords": [23.167356867560528, 79.91251979410296], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "ASHISH HOSPITAL [WRIGHT TOWN]", "coords": [23.16055770937634, 79.92434316798693], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "B T TIRAHA [GARHA]", "coords": [23.16106387766693, 79.90404607228798], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "RANJHI THANA", "coords": [23.194979917070228, 79.99596754279526], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-04", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SHIVARTH ELANZA [TILHARI]", "coords": [23.112141165427484, 79.97651082342978], "students": 7, "cluster": 0, "assignments": [{"bus": "Bus-20", "students": 7}], "assigned_students": 7, "color": "#1f77b4"}, {"name": "LOHIA PUL (PACHPEDDI)", "coords": [23.15902011873447, 79.9670460249635], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-09", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "HONDA PETROL PUMP", "coords": [23.15205330009168, 79.94127756113673], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-05", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SKR [TILHARI]", "coords": [23.123228792339965, 79.9701031779403], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-14", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "SUNDAR ENCLAVE [JAK MODIWADHA]", "coords": [23.17410072971576, 79.96449344122242], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}, {"name": "NAGDA ENCLAVE [JAK MODIWADHA]", "coords": [23.174862654800105, 79.96648061449673], "students": 1, "cluster": 0, "assignments": [{"bus": "Bus-07", "students": 1}], "assigned_students": 1, "color": "#1f77b4"}];
        const routes = [{"bus_number": "Bus-01", "coords": [[23.218017776574044, 79.89222893590794], [23.205225609469302, 79.89773166918903], [23.196548020049264, 79.9087955266303], [23.185600438490916, 79.91069186819605], [23.185146778593616, 79.91020905983561], [23.18508501963234, 79.90733178255053], [23.1856825106758, 79.92197521874981], [23.188161271634463, 79.92410038759266], [23.18910347519606, 79.92219324822497], [23.186834098544338, 79.9265318060182], [23.191449414854848, 79.92975010556374], [23.184594796459276, 79.93235650480348], [23.17717230090233, 79.9323015720764], [23.17598764356703, 79.93305411891365], [23.173958508676918, 79.93163400424832], [23.093356737950902, 80.0128349110219]], "color": "#1f77b4", "distance": 22.04, "students": 51, "utilization": 100.0, "efficiency": 2.31, "stops": [{"name": "STAR CITY [KARMETA]", "students": 3, "coords": [23.218017776574044, 79.89222893590794]}, {"name": "SHANKAR NAGAR", "students": 1, "coords": [23.205225609469302, 79.89773166918903]}, {"name": "KACHNAR CITY", "students": 6, "coords": [23.196548020049264, 79.9087955266303]}, {"name": "TAHSILI CHOWK", "students": 3, "coords": [23.185600438490916, 79.91069186819605]}, {"name": "EKTA CHOWK [VIJAY NAGAR]", "students": 6, "coords": [23.185146778593616, 79.91020905983561]}, {"name": "VIJAY NAGAR", "students": 15, "coords": [23.18508501963234, 79.90733178255053]}, {"name": "JAGDAMBA COLONY [SARVODAY NAGAR]", "students": 3, "coords": [23.1856825106758, 79.92197521874981]}, {"name": "VATSALA PARADISE [SHIV NAGAR]", "students": 1, "coords": [23.188161271634463, 79.92410038759266]}, {"name": "SHIV NAGAR", "students": 2, "coords": [23.18910347519606, 79.92219324822497]}, {"name": "MAIN ROAD BILHARI", "students": 1, "coords": [23.186834098544338, 79.9265318060182]}, {"name": "RYAN INTERNATIONAL SCH [SHANTI NAGAR]", "students": 4, "coords": [23.191449414854848, 79.92975010556374]}, {"name": "KALI MANDIR GOHALPUR", "students": 2, "coords": [23.184594796459276, 79.93235650480348]}, {"name": "SARAFA", "students": 1, "coords": [23.17717230090233, 79.9323015720764]}, {"name": "GHAMNDI CHOWK MALVIYA CHOWK", "students": 1, "coords": [23.17598764356703, 79.93305411891365]}, {"name": "LORDGANJ THANA", "students": 2, "coords": [23.173958508676918, 79.93163400424832]}]}, {"bus_number": "Bus-02", "coords": [[23.21301223597174, 79.93207969846821], [23.208576552104496, 79.93196859902471], [23.207477639280203, 79.93472940923132], [23.194644314568055, 79.94105932672417], [23.19399645228403, 79.9398524169068], [23.196930387152726, 79.94609810715711], [23.199493933438436, 79.94779125804338], [23.17744651041984, 79.94614470618043], [23.176457037202816, 79.94625466898097], [23.17316067421629, 79.94731474539458], [23.170324608770713, 79.94703612795372], [23.167258126424663, 79.9546482742753], [23.16523942006174, 79.95540757543658], [23.16465288457666, 79.9560814886331], [23.161811764391082, 79.95441470880174], [23.16398997343518, 79.96007941496099], [23.165554782898848, 79.96064789772927], [23.162548310276833, 79.96425409555513], [23.093356737950902, 80.0128349110219]], "color": "#ff7f0e", "distance": 18.79, "students": 51, "utilization": 100.0, "efficiency": 2.71, "stops": [{"name": "AMKHERA", "students": 1, "coords": [23.21301223597174, 79.93207969846821]}, {"name": "DREAM CITY", "students": 7, "coords": [23.208576552104496, 79.93196859902471]}, {"name": "NEW RAM NAGAR [ADHARTAL]", "students": 4, "coords": [23.207477639280203, 79.93472940923132]}, {"name": "ANAND NAGAR [ADHARTAL]", "students": 2, "coords": [23.194644314568055, 79.94105932672417]}, {"name": "RAZA CHOWK [ADHARTAL]", "students": 1, "coords": [23.19399645228403, 79.9398524169068]}, {"name": "RADDI CHOWKI", "students": 2, "coords": [23.196930387152726, 79.94609810715711]}, {"name": "JAI PRAKASH NAGAR [ADHARTAL]", "students": 1, "coords": [23.199493933438436, 79.94779125804338]}, {"name": "LALMATI", "students": 3, "coords": [23.17744651041984, 79.94614470618043]}, {"name": "GHAMAPUR", "students": 1, "coords": [23.176457037202816, 79.94625466898097]}, {"name": "BEOHAR BAGH [PANDEY HOSP]", "students": 6, "coords": [23.17316067421629, 79.94731474539458]}, {"name": "AMBEDKAR CHOWK", "students": 3, "coords": [23.170324608770713, 79.94703612795372]}, {"name": "POLICE LINE [INDRA MARKET]", "students": 2, "coords": [23.167258126424663, 79.9546482742753]}, {"name": "ALLAHABAD BRANCH CHOWK [CIVIL LINES]", "students": 7, "coords": [23.16523942006174, 79.95540757543658]}, {"name": "HOTEL JACKSON [CIVIL LINES]", "students": 6, "coords": [23.16465288457666, 79.9560814886331]}, {"name": "HEAD POST OFFICE", "students": 1, "coords": [23.161811764391082, 79.95441470880174]}, {"name": "CIVIL LINE THANA", "students": 2, "coords": [23.16398997343518, 79.96007941496099]}, {"name": "RTO [CIVIL LINES]", "students": 1, "coords": [23.165554782898848, 79.96064789772927]}, {"name": "NAVYUG COLLEGE SOUTH CIVIL LINES", "students": 1, "coords": [23.162548310276833, 79.96425409555513]}]}, {"bus_number": "Bus-03", "coords": [[23.006352844007324, 80.13233204475057], [23.04671873520261, 80.0838603289695], [23.0880022149519, 80.0740087313663], [23.08932114398881, 80.06959392687172], [23.100337110144302, 80.05631559292289], [23.096289028836637, 80.05110274266316], [23.097124642118136, 80.04955457877452], [23.09562131997112, 80.04773396800162], [23.093356737950902, 80.0128349110219]], "color": "#2ca02c", "distance": 18.38, "students": 51, "utilization": 100.0, "efficiency": 2.77, "stops": [{"name": "BIJA DANDI", "students": 9, "coords": [23.006352844007324, 80.13233204475057]}, {"name": "UDAYPURA [BIJADANDI]", "students": 4, "coords": [23.04671873520261, 80.0838603289695]}, {"name": "DEVARI SHARDA MANDIR [BARELA]", "students": 6, "coords": [23.0880022149519, 80.0740087313663]}, {"name": "SHARDA MANDIR [BARELA]", "students": 4, "coords": [23.08932114398881, 80.06959392687172]}, {"name": "BUS STAND [BARELA]", "students": 14, "coords": [23.100337110144302, 80.05631559292289]}, {"name": "BARELA POLICE STAION", "students": 5, "coords": [23.096289028836637, 80.05110274266316]}, {"name": "HOSTEL BARELA", "students": 4, "coords": [23.097124642118136, 80.04955457877452]}, {"name": "KISANI MOHALLA BARELA", "students": 5, "coords": [23.09562131997112, 80.04773396800162]}]}, {"bus_number": "Bus-04", "coords": [[23.225930132089648, 79.96215595703303], [23.21923410476295, 79.97387280287933], [23.203272293233894, 79.97812623133443], [23.200513844164647, 79.99375456783393], [23.194979917070228, 79.99596754279526], [23.19452308222257, 79.9933749799813], [23.197777125990086, 80.00366623147126], [23.20319036783051, 80.00142406010181], [23.20852845844815, 79.99418566860275], [23.20963584185678, 79.99314248850177], [23.21350726873368, 80.01655788403875], [23.181461289034104, 80.00623773004442], [23.17372475181687, 80.01113565578872], [23.178241257138133, 80.01854015381966], [23.17027094537853, 79.99815881101661], [23.156740573450172, 79.9851093433569], [23.093356737950902, 80.0128349110219]], "color": "#d62728", "distance": 28.53, "students": 51, "utilization": 100.0, "efficiency": 1.79, "stops": [{"name": "MAHARAJPUR", "students": 2, "coords": [23.225930132089648, 79.96215595703303]}, {"name": "MADHAI [VFJ]", "students": 2, "coords": [23.21923410476295, 79.97387280287933]}, {"name": "NEAR K.V.  VFJ", "students": 8, "coords": [23.203272293233894, 79.97812623133443]}, {"name": "RAM NAGAR [VFJ]", "students": 1, "coords": [23.200513844164647, 79.99375456783393]}, {"name": "RANJHI THANA", "students": 1, "coords": [23.194979917070228, 79.99596754279526]}, {"name": "GHANA [KHAMARIA]", "students": 3, "coords": [23.19452308222257, 79.9933749799813]}, {"name": "NAGAR NIGAM [RANJHI]", "students": 1, "coords": [23.197777125990086, 80.00366623147126]}, {"name": "SANSIKAR MEDIA RANJHI", "students": 4, "coords": [23.20319036783051, 80.00142406010181]}, {"name": "BAJRANG NAGAR [VFJ]", "students": 5, "coords": [23.20852845844815, 79.99418566860275]}, {"name": "KALA MANDIR [VFJ]", "students": 4, "coords": [23.20963584185678, 79.99314248850177]}, {"name": "NANAK NAGAR [MANEGAON]", "students": 1, "coords": [23.21350726873368, 80.01655788403875]}, {"name": "KATANGI BYPASS", "students": 1, "coords": [23.181461289034104, 80.00623773004442]}, {"name": "SAINIK SOCEITY [DUMNA]", "students": 4, "coords": [23.17372475181687, 80.01113565578872]}, {"name": "IIIT( NEAR DUMNA)", "students": 8, "coords": [23.178241257138133, 80.01854015381966]}, {"name": "PRIYADERSHNI COLONY DUMNA ROAD", "students": 5, "coords": [23.17027094537853, 79.99815881101661]}, {"name": "CMM", "students": 1, "coords": [23.156740573450172, 79.9851093433569]}]}, {"bus_number": "Bus-05", "coords": [[23.165631643965995, 79.89951694570661], [23.164375444565064, 79.90430486491502], [23.16106387766693, 79.90404607228798], [23.153320774729337, 79.90822310759026], [23.149176297149406, 79.9231263504578], [23.154720438767708, 79.92783738209282], [23.154302564786736, 79.93375442236302], [23.151894702342275, 79.93648676687721], [23.151412394903993, 79.93674131592188], [23.15205330009168, 79.94127756113673], [23.15398785864381, 79.94040458223564], [23.1562364844232, 79.94017770615982], [23.15792644999127, 79.93837975677135], [23.162466672612886, 79.93690413060737], [23.16328550208074, 79.93686452095312], [23.163419143439366, 79.9313649269809], [23.16389805080893, 79.93139642769658], [23.16055770937634, 79.92434316798693], [23.1595011590331, 79.92248861362029], [23.167356867560528, 79.91251979410296], [23.173958508676918, 79.93163400424832], [23.160291050337474, 79.94589064208955], [23.154441779612455, 79.95192861705203], [23.154911586864916, 79.95247164511579], [23.150420643590756, 79.94543613351374], [23.14598807735535, 79.9357829959855], [23.093356737950902, 80.0128349110219]], "color": "#9467bd", "distance": 27.04, "students": 51, "utilization": 100.0, "efficiency": 1.89, "stops": [{"name": "SANJEEVANI NAGAR", "students": 4, "coords": [23.165631643965995, 79.89951694570661]}, {"name": "KACHPURA BRIDGE", "students": 2, "coords": [23.164375444565064, 79.90430486491502]}, {"name": "B T TIRAHA [GARHA]", "students": 1, "coords": [23.16106387766693, 79.90404607228798]}, {"name": "TAKSHASHILA COLLEGE [SHARDA CHOWK]", "students": 2, "coords": [23.153320774729337, 79.90822310759026]}, {"name": "HATITAL COLONY [MADAN MAHAL]", "students": 2, "coords": [23.149176297149406, 79.9231263504578]}, {"name": "CHOTI LINE [GORAKHPUR]", "students": 1, "coords": [23.154720438767708, 79.92783738209282]}, {"name": "RAJA BOOT [GORAKHPUR]", "students": 3, "coords": [23.154302564786736, 79.93375442236302]}, {"name": "VIKRAM BATRA [SADAR]", "students": 1, "coords": [23.151894702342275, 79.93648676687721]}, {"name": "GRC MOTIWADA", "students": 1, "coords": [23.151412394903993, 79.93674131592188]}, {"name": "HONDA PETROL PUMP", "students": 1, "coords": [23.15205330009168, 79.94127756113673]}, {"name": "NEHRU RAILWAY COLONY", "students": 1, "coords": [23.15398785864381, 79.94040458223564]}, {"name": "ADHIKARI ENCLAVE [CIVIL LINES]", "students": 2, "coords": [23.1562364844232, 79.94017770615982]}, {"name": "4TH BRIDGE", "students": 1, "coords": [23.15792644999127, 79.93837975677135]}, {"name": "JABALPUR HOSPITAL AREA", "students": 1, "coords": [23.162466672612886, 79.93690413060737]}, {"name": "RUSSEL CHOWK", "students": 1, "coords": [23.16328550208074, 79.93686452095312]}, {"name": "WRITE TOWN", "students": 1, "coords": [23.163419143439366, 79.9313649269809]}, {"name": "NAPIER TOWN", "students": 2, "coords": [23.16389805080893, 79.93139642769658]}, {"name": "ASHISH HOSPITAL [WRIGHT TOWN]", "students": 1, "coords": [23.16055770937634, 79.92434316798693]}, {"name": "ANUPAM HOTEL [MADAN MAHAL]", "students": 3, "coords": [23.1595011590331, 79.92248861362029]}, {"name": "LABOUR CHOWK", "students": 1, "coords": [23.167356867560528, 79.91251979410296]}, {"name": "LORDGANJ THANA", "students": 2, "coords": [23.173958508676918, 79.93163400424832]}, {"name": "SHEETLA MAI [GHAMAPUR]", "students": 3, "coords": [23.160291050337474, 79.94589064208955]}, {"name": "SOUTH CIVIL LINES [DPS CITY OFF]", "students": 3, "coords": [23.154441779612455, 79.95192861705203]}, {"name": "SADAR AREA", "students": 3, "coords": [23.154911586864916, 79.95247164511579]}, {"name": "SAI BABA MANDIR (CIVIL LINE)", "students": 4, "coords": [23.150420643590756, 79.94543613351374]}, {"name": "KATANGA AREA", "students": 4, "coords": [23.14598807735535, 79.9357829959855]}]}, {"bus_number": "Bus-06", "coords": [[23.133731638844615, 79.91086515934909], [23.14069780770084, 79.92597732777134], [23.14598807735535, 79.9357829959855], [23.14664862680056, 79.95756708029798], [23.146450564222516, 79.95814539850521], [23.138154087093678, 79.95901377354578], [23.136795503825976, 79.95934423629106], [23.135247169886497, 79.96499121424984], [23.133236883071035, 79.96417925504016], [23.132854309859823, 79.96463834403374], [23.13268780655783, 79.96383495774498], [23.093356737950902, 80.0128349110219]], "color": "#8c564b", "distance": 13.9, "students": 51, "utilization": 100.0, "efficiency": 3.67, "stops": [{"name": "RAMPUR", "students": 2, "coords": [23.133731638844615, 79.91086515934909]}, {"name": "RAMPUR CHOWK", "students": 1, "coords": [23.14069780770084, 79.92597732777134]}, {"name": "KATANGA AREA", "students": 1, "coords": [23.14598807735535, 79.9357829959855]}, {"name": "MANEKSHAW COLONY ( KAJARWARA RD)", "students": 1, "coords": [23.14664862680056, 79.95756708029798]}, {"name": "GORA BAZAR", "students": 5, "coords": [23.146450564222516, 79.95814539850521]}, {"name": "2TTR GORA BAZAR", "students": 4, "coords": [23.138154087093678, 79.95901377354578]}, {"name": "GOPALAPURAM BILHARI", "students": 7, "coords": [23.136795503825976, 79.95934423629106]}, {"name": "PRATHAM RESIDENCY [BILHERI]", "students": 7, "coords": [23.135247169886497, 79.96499121424984]}, {"name": "HANUMAN MANDIR [BILHARI]", "students": 3, "coords": [23.133236883071035, 79.96417925504016]}, {"name": "KUNJ MEDICOSE BILHARI", "students": 12, "coords": [23.132854309859823, 79.96463834403374]}, {"name": "MOHINI HOMES [BILHERI]", "students": 8, "coords": [23.13268780655783, 79.96383495774498]}]}, {"bus_number": "Bus-07", "coords": [[23.180038281749393, 79.95914022827505], [23.17400066849778, 79.95819453843102], [23.17162430748628, 79.95865994929906], [23.17410072971576, 79.96449344122242], [23.174862654800105, 79.96648061449673], [23.17657142452922, 79.96756084682326], [23.18225342696958, 79.9725331649599], [23.187022856681363, 79.98029528183545], [23.159317601905553, 79.97669285632517], [23.160074944042183, 79.97199808461684], [23.158785806977495, 79.96796982184956], [23.093356737950902, 80.0128349110219]], "color": "#e377c2", "distance": 16.4, "students": 25, "utilization": 100.0, "efficiency": 1.52, "stops": [{"name": "GOPAL HOTEL [LAL MATI]", "students": 5, "coords": [23.180038281749393, 79.95914022827505]}, {"name": "KANCHGHAR", "students": 2, "coords": [23.17400066849778, 79.95819453843102]}, {"name": "BURN COMPANY [RAILWAY COLONY]", "students": 3, "coords": [23.17162430748628, 79.95865994929906]}, {"name": "SUNDAR ENCLAVE [JAK MODIWADHA]", "students": 1, "coords": [23.17410072971576, 79.96449344122242]}, {"name": "NAGDA ENCLAVE [JAK MODIWADHA]", "students": 1, "coords": [23.174862654800105, 79.96648061449673]}, {"name": "SUBHASH COLONY (PF_1)", "students": 2, "coords": [23.17657142452922, 79.96756084682326]}, {"name": "SHOBHAPUR", "students": 4, "coords": [23.18225342696958, 79.9725331649599]}, {"name": "SANJAY NAGAR RANJHI", "students": 2, "coords": [23.187022856681363, 79.98029528183545]}, {"name": "RDVV UNIVERSITY [DUMNA ROAD]", "students": 3, "coords": [23.159317601905553, 79.97669285632517]}, {"name": "MERIDIAN BUNGALOW [PACHPEDI]", "students": 1, "coords": [23.160074944042183, 79.97199808461684]}, {"name": "PACHPEDI", "students": 1, "coords": [23.158785806977495, 79.96796982184956]}]}, {"bus_number": "Bus-08", "coords": [[23.114228271840545, 79.92285537175148], [23.11709048935665, 79.92457721572774], [23.119737608288787, 79.92562336937077], [23.129156437300594, 79.96502178000252], [23.1295957301223, 79.96602061451216], [23.130331088505866, 79.96468674500338], [23.131899859927863, 79.9642808958001], [23.13268780655783, 79.96383495774498], [23.13328722255354, 79.96699730565662], [23.093356737950902, 80.0128349110219]], "color": "#7f7f7f", "distance": 12.17, "students": 57, "utilization": 100.0, "efficiency": 4.68, "stops": [{"name": "GWARIGHAT", "students": 10, "coords": [23.114228271840545, 79.92285537175148]}, {"name": "SUKH SAGAR VALLEY [GWARIGHAT]", "students": 1, "coords": [23.11709048935665, 79.92457721572774]}, {"name": "TATA JACK [SADAR]", "students": 1, "coords": [23.119737608288787, 79.92562336937077]}, {"name": "PINK CITY [BILHARI]", "students": 12, "coords": [23.129156437300594, 79.96502178000252]}, {"name": "PETROL PUMP [BILHARI]", "students": 6, "coords": [23.1295957301223, 79.96602061451216]}, {"name": "MODEL TOWN [BILHERI]", "students": 11, "coords": [23.130331088505866, 79.96468674500338]}, {"name": "NEAR  MAZAR BARELA", "students": 3, "coords": [23.131899859927863, 79.9642808958001]}, {"name": "MOHINI HOMES [BILHERI]", "students": 2, "coords": [23.13268780655783, 79.96383495774498]}, {"name": "KRISHNA HOMES  [BILHERI]", "students": 11, "coords": [23.13328722255354, 79.96699730565662]}]}, {"bus_number": "Bus-09", "coords": [[23.162548310276833, 79.96425409555513], [23.15902011873447, 79.9670460249635], [23.158785806977495, 79.96796982184956], [23.15182899639258, 79.96565455864993], [23.144992270068204, 79.97155329334242], [23.131458373920047, 79.9718497836627], [23.13106618522793, 79.97149427641607], [23.093356737950902, 80.0128349110219]], "color": "#bcbd22", "distance": 9.86, "students": 35, "utilization": 100.0, "efficiency": 3.55, "stops": [{"name": "NAVYUG COLLEGE SOUTH CIVIL LINES", "students": 1, "coords": [23.162548310276833, 79.96425409555513]}, {"name": "LOHIA PUL (PACHPEDDI)", "students": 1, "coords": [23.15902011873447, 79.9670460249635]}, {"name": "PACHPEDI", "students": 1, "coords": [23.158785806977495, 79.96796982184956]}, {"name": "LEKHA NAGAR", "students": 9, "coords": [23.15182899639258, 79.96565455864993]}, {"name": "DHOBHI GHAT", "students": 10, "coords": [23.144992270068204, 79.97155329334242]}, {"name": "RAJUL PHASE III  [BILHERI]", "students": 9, "coords": [23.131458373920047, 79.9718497836627]}, {"name": "MANGLESHWARI  [BILHERI]", "students": 4, "coords": [23.13106618522793, 79.97149427641607]}]}, {"bus_number": "Bus-10", "coords": [[23.156740573450172, 79.9851093433569], [23.14686951924597, 79.99843014771179], [23.147035842180383, 79.99868629804486], [23.12991441707296, 79.98013271933183], [23.128268808098042, 79.97640003615263], [23.128582650203345, 79.97510932834523], [23.093356737950902, 80.0128349110219]], "color": "#17becf", "distance": 10.52, "students": 44, "utilization": 100.0, "efficiency": 4.18, "stops": [{"name": "CMM", "students": 15, "coords": [23.156740573450172, 79.9851093433569]}, {"name": "TEMAR BHITHA", "students": 7, "coords": [23.14686951924597, 79.99843014771179]}, {"name": "SHIVPURI TEMAR BHITA", "students": 2, "coords": [23.147035842180383, 79.99868629804486]}, {"name": "KAJARWARA", "students": 4, "coords": [23.12991441707296, 79.98013271933183]}, {"name": "KANTI VILLAS [KAJARWARA]", "students": 4, "coords": [23.128268808098042, 79.97640003615263]}, {"name": "MAA NARMADE CITY HOMES [KAJARWARA]", "students": 12, "coords": [23.128582650203345, 79.97510932834523]}]}, {"bus_number": "Bus-11", "coords": [[23.13111603004965, 79.96731736161077], [23.129278492013874, 79.96930748604778], [23.129252818370205, 79.9701793892678], [23.093356737950902, 80.0128349110219]], "color": "#aec7e8", "distance": 6.28, "students": 42, "utilization": 100.0, "efficiency": 6.68, "stops": [{"name": "RAJUL CITY AASHIANA  [BILHERI]", "students": 14, "coords": [23.13111603004965, 79.96731736161077]}, {"name": "MADHUBAN COLONY  [TILHERI]", "students": 3, "coords": [23.129278492013874, 79.96930748604778]}, {"name": "RAJUL PHASE II  [BILHERI]", "students": 25, "coords": [23.129252818370205, 79.9701793892678]}]}, {"bus_number": "Bus-12", "coords": [[23.131401450318915, 79.97052408976279], [23.131466267550255, 79.97073450753732], [23.13106618522793, 79.97149427641607], [23.129164048705007, 79.97039111490098], [23.129252818370205, 79.9701793892678], [23.12844425746609, 79.97322637205349], [23.093356737950902, 80.0128349110219]], "color": "#ffbb78", "distance": 6.32, "students": 38, "utilization": 100.0, "efficiency": 6.01, "stops": [{"name": "GREEN CITY [BILHARI]", "students": 3, "coords": [23.131401450318915, 79.97052408976279]}, {"name": "RAJUL PHASE I  [TILHERI]", "students": 9, "coords": [23.131466267550255, 79.97073450753732]}, {"name": "MANGLESHWARI  [BILHERI]", "students": 2, "coords": [23.13106618522793, 79.97149427641607]}, {"name": "B K EMPIRE [BILHERI]", "students": 2, "coords": [23.129164048705007, 79.97039111490098]}, {"name": "RAJUL PHASE II  [BILHERI]", "students": 7, "coords": [23.129252818370205, 79.9701793892678]}, {"name": "RAJUL EXOTICA  [BILHERI]", "students": 15, "coords": [23.12844425746609, 79.97322637205349]}]}, {"bus_number": "Bus-13", "coords": [[23.125474932937912, 79.96828522077357], [23.12531171902943, 79.96873176349422], [23.125118387520413, 79.9686938156215], [23.124902440555612, 79.96863873376775], [23.124692533738177, 79.9686864487665], [23.12437896108687, 79.96902007375587], [23.093356737950902, 80.0128349110219]], "color": "#98df8a", "distance": 5.82, "students": 53, "utilization": 100.0, "efficiency": 9.11, "stops": [{"name": "VIJAN MAHAL", "students": 5, "coords": [23.125474932937912, 79.96828522077357]}, {"name": "RAJUL PARADISE  [TILHERI]", "students": 6, "coords": [23.12531171902943, 79.96873176349422]}, {"name": "ANUP VIHAR [GAUR]", "students": 7, "coords": [23.125118387520413, 79.9686938156215]}, {"name": "JALARAM BAPU NAGAR", "students": 8, "coords": [23.124902440555612, 79.96863873376775]}, {"name": "VIJAN MAHAL [TILHARI]", "students": 9, "coords": [23.124692533738177, 79.9686864487665]}, {"name": "CHAGGAR FARM  [TILHERI]", "students": 18, "coords": [23.12437896108687, 79.96902007375587]}]}, {"bus_number": "Bus-14", "coords": [[23.12437896108687, 79.96902007375587], [23.123883124245687, 79.96924638693163], [23.123646194799328, 79.96941237714319], [23.123228792339965, 79.9701031779403], [23.122735155091533, 79.97000977287576], [23.122249958066227, 79.97056388598813], [23.120770760969933, 79.97133799276142], [23.093356737950902, 80.0128349110219]], "color": "#ff9896", "distance": 5.71, "students": 53, "utilization": 100.0, "efficiency": 9.27, "stops": [{"name": "CHAGGAR FARM  [TILHERI]", "students": 5, "coords": [23.12437896108687, 79.96902007375587]}, {"name": "RAJUL VIHAR  [TILHERI]", "students": 7, "coords": [23.123883124245687, 79.96924638693163]}, {"name": "ANANTARA [TILHERI]", "students": 18, "coords": [23.123646194799328, 79.96941237714319]}, {"name": "SKR [TILHARI]", "students": 1, "coords": [23.123228792339965, 79.9701031779403]}, {"name": "DOLPHIN HOTEL  [TILHERI]", "students": 2, "coords": [23.122735155091533, 79.97000977287576]}, {"name": "NAVAL UTKARSH  [TILHERI]", "students": 6, "coords": [23.122249958066227, 79.97056388598813]}, {"name": "KATARIYA THEME PARK [TILHARI]", "students": 14, "coords": [23.120770760969933, 79.97133799276142]}]}, {"bus_number": "Bus-15", "coords": [[23.12844425746609, 79.97322637205349], [23.128582650203345, 79.97510932834523], [23.120770760969933, 79.97133799276142], [23.119840810599957, 79.97183318920116], [23.093356737950902, 80.0128349110219]], "color": "#c5b0d5", "distance": 6.38, "students": 41, "utilization": 100.0, "efficiency": 6.43, "stops": [{"name": "RAJUL EXOTICA  [BILHERI]", "students": 1, "coords": [23.12844425746609, 79.97322637205349]}, {"name": "MAA NARMADE CITY HOMES [KAJARWARA]", "students": 26, "coords": [23.128582650203345, 79.97510932834523]}, {"name": "KATARIYA THEME PARK [TILHARI]", "students": 10, "coords": [23.120770760969933, 79.97133799276142]}, {"name": "CHAITANYA CITY  [TILHERI]", "students": 4, "coords": [23.119840810599957, 79.97183318920116]}]}, {"bus_number": "Bus-16", "coords": [[23.119318594252608, 79.97123388107381], [23.119840810599957, 79.97183318920116], [23.120075895698783, 79.97240136058757], [23.11893352599675, 79.97551851495885], [23.093356737950902, 80.0128349110219]], "color": "#c49c94", "distance": 5.25, "students": 40, "utilization": 100.0, "efficiency": 7.62, "stops": [{"name": "RAJUL PARK VIEW [TILHARI]", "students": 10, "coords": [23.119318594252608, 79.97123388107381]}, {"name": "CHAITANYA CITY  [TILHERI]", "students": 16, "coords": [23.119840810599957, 79.97183318920116]}, {"name": "PRAGATI NAGAR [TILHARI]", "students": 11, "coords": [23.120075895698783, 79.97240136058757]}, {"name": "RAJUL TOWNSHIP [TILHERI]", "students": 3, "coords": [23.11893352599675, 79.97551851495885]}]}, {"bus_number": "Bus-17", "coords": [[23.117004507794384, 79.9735680764254], [23.11506842661064, 79.97364137096082], [23.093356737950902, 80.0128349110219]], "color": "#f7b6d3", "distance": 4.89, "students": 40, "utilization": 100.0, "efficiency": 8.17, "stops": [{"name": "SHUBHAM RESIDENCY, TILHARI", "students": 10, "coords": [23.117004507794384, 79.9735680764254]}, {"name": "DATT TOWNSHIP [TILHARI]", "students": 30, "coords": [23.11506842661064, 79.97364137096082]}]}, {"bus_number": "Bus-18", "coords": [[23.11893352599675, 79.97551851495885], [23.11918148867372, 79.97702008206095], [23.11543733449382, 79.97519758748908], [23.11506842661064, 79.97364137096082], [23.093356737950902, 80.0128349110219]], "color": "#c7c7c7", "distance": 5.46, "students": 44, "utilization": 100.0, "efficiency": 8.07, "stops": [{"name": "RAJUL TOWNSHIP [TILHERI]", "students": 14, "coords": [23.11893352599675, 79.97551851495885]}, {"name": "RAJUL CITY STOP 1  [BILHERI]", "students": 16, "coords": [23.11918148867372, 79.97702008206095]}, {"name": "DATT TOWNSHIP [BILHARI]", "students": 10, "coords": [23.11543733449382, 79.97519758748908]}, {"name": "DATT TOWNSHIP [TILHARI]", "students": 4, "coords": [23.11506842661064, 79.97364137096082]}]}, {"bus_number": "Bus-19", "coords": [[23.11506842661064, 79.97364137096082], [23.11393531506767, 79.97535462435053], [23.112664944100743, 79.97686587899172], [23.093356737950902, 80.0128349110219]], "color": "#dbdb8d", "distance": 4.69, "students": 42, "utilization": 100.0, "efficiency": 8.96, "stops": [{"name": "DATT TOWNSHIP [TILHARI]", "students": 27, "coords": [23.11506842661064, 79.97364137096082]}, {"name": "XIDAS COLLEGE [TILHERI]", "students": 14, "coords": [23.11393531506767, 79.97535462435053]}, {"name": "AAKARSH ENCLAVE [TILHARI]", "students": 1, "coords": [23.112664944100743, 79.97686587899172]}]}, {"bus_number": "Bus-20", "coords": [[23.112141165427484, 79.97651082342978], [23.112664944100743, 79.97686587899172], [23.10536144194335, 79.97782484416425], [23.103104571168306, 79.98715122513288], [23.10432054431489, 79.98740863267449], [23.106368719270197, 79.98772771752677], [23.09950738189036, 79.99005783672153], [23.092374499520837, 79.98563997760517], [23.079005819106527, 79.98769490782207], [23.093356737950902, 80.0128349110219]], "color": "#9edae5", "distance": 8.47, "students": 43, "utilization": 100.0, "efficiency": 5.08, "stops": [{"name": "SHIVARTH ELANZA [TILHARI]", "students": 7, "coords": [23.112141165427484, 79.97651082342978]}, {"name": "AAKARSH ENCLAVE [TILHARI]", "students": 1, "coords": [23.112664944100743, 79.97686587899172]}, {"name": "GORAIYA GHAT [GAUR]", "students": 3, "coords": [23.10536144194335, 79.97782484416425]}, {"name": "VITS COLLEGE [NEEMKHEDA]", "students": 1, "coords": [23.103104571168306, 79.98715122513288]}, {"name": "SUHAGI", "students": 5, "coords": [23.10432054431489, 79.98740863267449]}, {"name": "GAUR TIRAHA", "students": 15, "coords": [23.106368719270197, 79.98772771752677]}, {"name": "TFRI", "students": 7, "coords": [23.09950738189036, 79.99005783672153]}, {"name": "ST.JOSEPH TFRI", "students": 2, "coords": [23.092374499520837, 79.98563997760517]}, {"name": "SMART TOWN SILUVA", "students": 2, "coords": [23.079005819106527, 79.98769490782207]}]}, {"bus_number": "Bus-21", "coords": [[23.09562131997112, 80.04773396800162], [23.1000751434807, 80.04143583484864], [23.106928290231842, 80.01595803556948], [23.111903141828552, 80.0043466449494], [23.108161661763596, 80.0012181111393], [23.11556994445934, 79.99478995002738], [23.078377876447576, 80.01181215119853], [23.093356737950902, 80.0128349110219]], "color": "#1f77b4", "distance": 12.55, "students": 29, "utilization": 69.0, "efficiency": 2.31, "stops": [{"name": "KISANI MOHALLA BARELA", "students": 4, "coords": [23.09562131997112, 80.04773396800162]}, {"name": "BARELA MELA GROUND", "students": 7, "coords": [23.1000751434807, 80.04143583484864]}, {"name": "KOSAMGHAT", "students": 2, "coords": [23.106928290231842, 80.01595803556948]}, {"name": "SIGMA KANHA (MANDLA ROAD)", "students": 6, "coords": [23.111903141828552, 80.0043466449494]}, {"name": "CHRIST CHURCH SCHOOL SALIWADA", "students": 2, "coords": [23.108161661763596, 80.0012181111393]}, {"name": "SALIWADA", "students": 6, "coords": [23.11556994445934, 79.99478995002738]}, {"name": "STAR GREEN CITY", "students": 2, "coords": [23.078377876447576, 80.01181215119853]}]}];
        
        // Initialize map
        const map = L.map('map').setView(school.coords, 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);
        
        // Add school marker
        L.marker(school.coords, {
            icon: L.divIcon({
                className: 'school-marker',
                html: '<div style="background: #dc3545; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>',
                iconSize: [22, 22]
            })
        }).addTo(map).bindPopup('<b>üè´ School</b>');
        
        // Add stop markers
        const stopMarkers = [];
        stops.forEach(function(stop) {
            const marker = L.circleMarker(stop.coords, {
                radius: Math.max(6, Math.min(15, stop.students * 0.8)),
                color: 'white',
                weight: 2,
                fillColor: stop.color,
                fillOpacity: 0.8
            }).addTo(map);
            
            let popupContent = `<b>${stop.name}</b><br>
                               <strong>Total Students:</strong> ${stop.students}<br>
                               <strong>Assigned:</strong> ${stop.assigned_students}<br>`;
            
            if (stop.assignments.length > 0) {
                popupContent += '<strong>Bus Assignments:</strong><br>';
                stop.assignments.forEach(function(assignment) {
                    popupContent += `‚Ä¢ ${assignment.bus}: ${assignment.students} students<br>`;
                });
            }
            
            marker.bindPopup(popupContent);
            stopMarkers.push({ marker: marker, stop: stop });
        });
        
        // Add route polylines
        const routeLines = [];
        routes.forEach(function(route, index) {
            const polyline = L.polyline(route.coords, {
                color: route.color,
                weight: 4,
                opacity: 0.8
            }).addTo(map);
            
            const popupContent = `<b>${route.bus_number}</b><br>
                                 <strong>Distance:</strong> ${route.distance} km<br>
                                 <strong>Students:</strong> ${route.students}<br>
                                 <strong>Utilization:</strong> ${route.utilization}%<br>
                                 <strong>Efficiency:</strong> ${route.efficiency} students/km`;
            
            polyline.bindPopup(popupContent);
            routeLines.push({ line: polyline, route: route });
        });
        
        // Update statistics
        const totalDistance = routes.reduce((sum, route) => sum + route.distance, 0);
        const totalStudents = routes.reduce((sum, route) => sum + route.students, 0);
        const avgUtilization = routes.reduce((sum, route) => sum + route.utilization, 0) / routes.length;
        
        document.getElementById('total-distance').textContent = totalDistance.toFixed(2) + ' km';
        document.getElementById('buses-used').textContent = routes.length;
        document.getElementById('students-assigned').textContent = totalStudents;
        document.getElementById('avg-utilization').textContent = avgUtilization.toFixed(1) + '%';
        
        // Generate route list
        const routeList = document.getElementById('route-list');
        routes.forEach(function(route, index) {
            const routeDiv = document.createElement('div');
            routeDiv.className = 'route-item';
            routeDiv.innerHTML = `
                <div class="route-header">
                    <div class="route-color" style="background-color: ${route.color}"></div>
                    <div class="route-title">${route.bus_number}</div>
                </div>
                <div class="route-stats">
                    ${route.distance} km ‚Ä¢ ${route.students} students ‚Ä¢ ${route.utilization}% full
                </div>
                <div class="efficiency-bar">
                    <div class="efficiency-fill" style="width: ${Math.min(100, route.utilization)}%"></div>
                </div>
            `;
            
            routeDiv.addEventListener('click', function() {
                map.fitBounds(routeLines[index].line.getBounds());
                routeLines[index].line.openPopup();
            });
            
            routeList.appendChild(routeDiv);
        });
        
        // Add legend
        const legend = L.control({ position: 'bottomright' });
        legend.onAdd = function(map) {
            const div = L.DomUtil.create('div', 'legend');
            div.innerHTML = `
                <h4>Legend</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: #dc3545;"></div>
                    <span>School</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #6c757d;"></div>
                    <span>Bus Stops</span>
                </div>
                <div style="margin-top: 10px; font-size: 12px; color: #6c757d;">
                    Stop size = number of students<br>
                    Click routes for details
                </div>
            `;
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
    
